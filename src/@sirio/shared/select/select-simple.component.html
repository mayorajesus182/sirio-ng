<mat-form-field appearance="outline" fxFlex="auto">
    <mat-label>{{label}}</mat-label>

    <mat-select *ngIf="!readonly" [formControl]="selectControl" #singleSelect
        (change)="propagateChange($event.target.value)" (blur)="propagateTouched($event)" [required]="required">
        <mat-option *ngIf="!required">Ninguno</mat-option>
        <mat-option *ngFor="let elem of filteredElements | async" [value]="elem.id">
            <small>{{elem[attributeName]}}</small>
        </mat-option>
    </mat-select>
    <mat-icon matSuffix class="secondary-text" *ngIf="icon">{{icon}}</mat-icon>
    <mat-error *ngIf="selectControl.errors?.required && !readonly">Requerido!</mat-error>
    <input matInput [value]="selectControl.value[attributeName]" readonly *ngIf="readonly">
</mat-form-field>