<sirio-page-layout mode="card">
    <sirio-page-layout-header>
        <sirio-breadcrumbs [@fadeInRight] [crumbs]="['deposit.form']"></sirio-breadcrumbs>
    </sirio-page-layout-header>
    <sirio-page-layout-content [fxLayoutGap]="gap" fxLayout="column">
        <div [fxLayoutGap]="gap" fxFlex="noshrink" fxLayout="column" fxLayoutAlign.gt-sm="start stretch">
            <sirio-card [fxFlex.gt-sm]="100" fxLayout="column" class="basic-forms route-animations-elements margin-bottom-md" @fadeInUp fxFlex="grow">
                <sirio-card-header>
                    <sirio-card-header-heading>{{'deposit.form'|translate}}</sirio-card-header-heading>
                    <sirio-card-header-actions>
                        <button class="icon" mat-icon-button matTooltip="{{'button.save' | translate:
                        {default: 'global.notfound'} | translate }}" type="button" [disabled]="itemForm?.invalid " (click)="save()">
                            <mat-icon>save</mat-icon>
                        </button>
                        <button class="icon" mat-icon-button matTooltip="{{'button.cancel' | translate:
                        {default: 'global.notfound'} | translate }}" type="button" (click)="back()">
                            <mat-icon>close</mat-icon>
                        </button>
                    </sirio-card-header-actions>
                </sirio-card-header>
                <sirio-card-content fxLayout="column">
                    <sirio-person-query (result)="queryResult($event)" [taquilla]="true"></sirio-person-query>
                    <div fxLayout="column" >
                        <sirio-card [fxFlex.gt-sm]="100" *ngIf="loading | async" fxLayout="column"
                            class="basic-forms route-animations-elements margin-bottom-md" @fadeInUp fxFlex="grow">
                            <sirio-card-header class="header-bg">
                                <sirio-card-header-heading> <i class="fa-light fa-pen-to-square mat-icon mat-primary fa-lg margin-top-md"></i>&nbsp; Informaci√≥n
                                    Financiera</sirio-card-header-heading>
                                <sirio-card-header-actions *ngIf="!cuentaOperacion">
                                    <button class="icon" mat-icon-button matTooltip="{{'button.clean' | translate:
                                    {default: 'global.notfound'} | translate }}" type="button" (click)="resetInfoFinance()">
                                        <mat-icon>backspace</mat-icon>
                                    </button>
                                </sirio-card-header-actions>
                            </sirio-card-header>

                            <sirio-card-content fxLayout="column">
                                <div fxLayout="column" fxLayout.gt-sm="row" fxLayoutGap.gt-sm="10px" fxLayoutAlign="center">
                                        <!-- (f.numeroCuenta.value != undefined) || -->
                                        <div fxLayoutAlign="33" class="margin-top-md" >
                                            <mat-slide-toggle [color]="'primary'" [(ngModel)]="esEfectivo" >
                                                {{'deposit.cashDeposit' | translate: {default: 'global.cashDeposit'} | translate }}
                                            </mat-slide-toggle>
                                        </div>
                                        <!-- <div fxFlex.gt-xs="33" class="margin-top-md">
                                            <mat-slide-toggle [color]="'primary'" formControlName="esCheque" name="esCheque">
                                                {{'deposit.checkDeposit' | translate: {default: 'global.checkDeposit'} | translate }}
                                            </mat-slide-toggle>
                                        </div>

                                        <div fxFlex.gt-xs="33" class="margin-top-md">
                                            <mat-slide-toggle [color]="'primary'" formControlName="esChequeMixto" name="esChequeMixto">
                                                Cheque Mixto
                                            </mat-slide-toggle> -->
                                        <!-- </div> -->
                                </div>
                                
                                <div fxLayout="column" fxLayout.gt-sm="row" fxLayoutGap.gt-sm="10px">
                                    <!-- <mat-form-field fxFlex.gt-sm="30" *ngIf="cuentaOperacion">
                                        <mat-label>{{'deposit.productType' | translate: {default: 'global.productType'} |
                                            translate }}
                                        </mat-label>
                                        <input matInput autocomplete="off" [(ngModel)]="cuentaOperacion.tipoProductoNombre"
                                            [ngModelOptions]="{standalone: true}" readonly name="numeroCuenta">
                                        <mat-error *ngIf="f.numeroCuenta.errors?.required">Es requerido</mat-error>
                                    </mat-form-field>
                                    <sirio-select-search fxFlex="30" *ngIf="!cuentaOperacion"
                                        [label]="'deposit.countNumber' | translate: {default: 'global.accountNumber'} | translate"
                                        formControlName="cuentaBancaria" [required]="!cuentaOperacion" [elements]="cuentasBancarias.asObservable()"
                                        [attributeName]="'descripcion'" [errors]="f.numeroCuenta?.errors">
                                    </sirio-select-search>
                                    <mat-form-field fxFlex.gt-xs="10">
                                        <mat-label>{{'deposit.coin' | translate: {default: 'global.coin'} | translate }}
                                        </mat-label>
                                        <input matInput autocomplete="off" [(ngModel)]="moneda.siglas" [ngModelOptions]="{standalone: true}" readonly
                                            name="moneda" class="text-center">
                                    </mat-form-field> -->
                                    <sirio-deposito-efectivo *ngIf="(loading | async)" [required]="esEfectivo"></sirio-deposito-efectivo>
                                </div>
                                <!-- Se injectan los componentes -->
                                    
                            </sirio-card-content>
                        </sirio-card>
                        <!-- Injectar componente -->
                        <sirio-voucher-information *ngIf="((loading | async) && ((f.numeroCuenta.value != undefined) || (cuentaOperacion)))"
                            [taquillaDeposito]="true"></sirio-voucher-information>

                        <!-- Fin del Componente -->

                    </div>
                    <!-- {{printErrors() | json}} -->
                </sirio-card-content>
                <mat-toolbar *ngIf="loading | async">
                    <div fxLayout="row" fxFlex="1 1 0%" fxLayoutAlign="end center" fxLayoutGap="24px">
                        <button type="button" mat-button (click)="back()">
                            {{'button.cancel' | translate:
                            {default: 'global.notfound'} | translate }}
                        </button>
                        <button color="primary" (click)="save()" mat-raised-button [disabled]="itemForm?.invalid  ">
                            {{'button.send' | translate: {default:
                            'global.notfound'} | translate }}
                        </button>
                    </div>
                </mat-toolbar>
            </sirio-card>
        </div>
    </sirio-page-layout-content>
</sirio-page-layout>